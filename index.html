<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Hello PWA</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<link rel="stylesheet" href="css/main.css">
		<link rel="manifest" href="manifest.json">
	</head>
	<body>
		<h3>Hello PWA</h3>
	</body>
	<script>
if ('serviceWorker' in navigator) {
	// register service worker
	navigator.serviceWorker.register('./sw.js') // 参数1：注册提供的脚本URL 参数2：导航匹配
		.then(function(registration) {
			// 注册成功
			// registration对象存有对sw所在生命周期的状态及状态变更事件及一些父接口的方法
			// 状态分别有 installing 、 installed 、 waiting 、 activating 、 activated
			if (registration.installing) {
				console.log('Service worker installing');
			} else if (registration.waiting) {
				console.log('Service worker installed');
			} else if (registration.active) {
				console.log('Service worker active');
			}
		}).catch(function(error) {
			// 注册失败
			console.log('Service worker fail');
		});
}
	</script>
</html>
